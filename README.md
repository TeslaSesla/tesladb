
# TeslaDB
Лёгкая система управления базами данных на основе .csv файлов.
<br />


## Файлы
Справка по файлам которые используются при работе с БД.
* **log.txt** - файл отчётов (логов)
	Используется для записи почти каждого действия СУБД в формате *[ДАТА | ВРЕМЯ] - ОТЧЁТ [СТАТУС]*.
* **config.csv** - таблица конфигураций	
<br />



## Механика
* **Индексные столбцы**
В данной СУБД присутствует возможность автоматического создания индексных столбцов (Они же AUTO_INCREMENT) <br />
При создании таблицы вы указываете названия всех столбцов при помощи функции *createTable*(), включая индексный столбец в виде "ID, data, time, status", где ID - индексный столбец. Номер индексного столбца - целое число больше нуля (В примере выше номер индексного столбца - 1).
При добавлении записи в таблицу указываются все столбики кроме индексного.
<br />
* **Хранение данных**
Новая база данных - новая папка. Новая таблица - файл таблицы (.csv), файл структуры таблицы (.str) и файл параметров таблицы (_options.csv). Всё просто =)
При инициализации класса создаётся директория СУБД (dfFiles) и следующие файлы в ней:

файл            | использование
--------------- | -------------
options.csv     | Параметры СУБД
databases.csv   | Список баз данных
tables.csv      | Список таблиц
log.txt         | Файл отчётов




## Справка по функциям
Ниже приведёна справка по функциям в данной библиотеке. Значение 0 соответствует успешному завершению любой функции.
В случае возникновения неполадок вы можете посмотреть файл **log.txt**.

### Публичные функции (Можно использовать вне класса)

**createDB**(string) <br />
Создание базы данных, в функцию передаётся название базы данных.

Значение  | Описание
--------- | ----------------------------------
-1        | Найдена БД с таким же именем
-2        | Найдена папка с таким же именем
-3        | mkdir вернула неизвестное значение

**deleteDB**(string) <br />
Удаление базы данных, индексы следующих баз данных в списке остаются неизменны.

Значение  | Описание
--------- | -----------------------------------------------------
-1        | База данных не найдена в файле баз
-2        | Не найден файл баз данных (databases.csv)
-3        | Недостаточно прав для редактирования файла баз данных

**createSystemDir**() <br />
Создаёт системную директорию (dbFiles), и если она не создана то все файлы в ней (log.txt, tables.csv, databases.csv, options.csv)

Значение  | Описание
--------- | -----------------------------------------------------
-1        | База данных не найдена в файле баз
-2        | Не найден файл баз данных (databases.csv)
-3        | Недостаточно прав для редактирования файла баз данных


<br/>


### Приватные функции (Можно использовать только из класса)
**addLog**(string, int) <br />
Добавление лога в файл отчётов (по умолчанию log.txt).
* string - текст отчёта
* int    - категория отчёта
**Категории отчётов**:

Значение  | Описание
--------- | -------------------------------- 
0         | Информирование о действии/успехе
1         | Предупреждение
2         | Ошибка

**Возвращаемые значения**:

Значение  | Описание
--------- | --------------------------------------------------
-1        | Невозможно найти файл отчётов
-2        | Недостаточно прав для редактирования файла отчётов

<hr>

